<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数组</title>
</head>

<body>
  <script>

    console.log([...Array(5)])
    console.log([...Array(5).keys()])

    let arr = Array(5).fill('').map((item, index) => index)
    console.log(arr)

    let styles = ['Jazz', 'Blues']
    styles.push('Rock-n-Roll')
    styles[Math.floor((styles.length - 1) / 2)] = 'Classics'
    console.log(styles.shift())
    console.log(styles)
    styles.unshift('Rap', 'Reggae')
    console.log(styles)


    // obj[method]() arr2[2]()
    let arr2 = ["a", "b"];

    arr2.push(function () {
      console.log(this);
    })

    arr2[2](); // ?window?arr2

    // 最大子数和 连续子数组

    console.log(getMaxSubSum([-1, 2, 3, -9]))

    console.log(getMaxSubSum2([-1, 2, 3, -9]))
    
    console.log(getMaxSubSum3([-1, 2, 3, -9]))

    function getMaxSubSum3(arr) {
      let res = arr[0]
      for (let i = 1; i < arr.length; ++i) {
        if(arr[i - 1] > 0) {
          arr[i] += arr[i-1]
        }
        res = Math.max(res, arr[i])
      }
      return res
    }

    function getMaxSubSum2(arr) {
      let maxSum = (sum = arr[0])
      for (let i = 1; i < arr.length; ++i) {
        sum = Math.max(arr[i], sum + arr[i])
        maxSum = Math.max(maxSum, sum)
      }
      return maxSum
    }

    function getMaxSubSum(arr) {
      let maxSum = 0;
      let partialSum = 0;

      for (let item of arr) { // arr 中的每个 item
        partialSum += item; // 将其加到 partialSum
        maxSum = Math.max(maxSum, partialSum); // 记住最大值
        if (partialSum < 0) partialSum = 0; // 如果是负数就置为 0
      }

      return maxSum;
    }
  </script>
</body>

</html>